var jQuery=jQuery||{},maechabinUi=function(a,b,c){"use strict";function d(b,c){a("html, body").animate({scrollTop:b},c,"swing")}function e(){a("a[href^=#]").on("click",function(){var b=400,c=a(this).attr("href"),e=a("#"===c||""===c?"html":c),f=e.offset().top-r.height();return d(f,b),!1})}function f(){r.on("click",function(b){var e=a(b.target).attr("id");if("header_bar"===e||"header_bar_inner"===e){var f=600,g=a(c.body).offset().top;return d(g,f),!1}})}function g(){var b=location.href,d=location.host,e=new RegExp("^https?://"+d+"/archives/[0-9]+$","ig"),f=new RegExp("^https?://"+d,"ig"),g=a(".header__title").eq(0),h=g.find("a"),i=g.find("i"),j=c.referrer;b.match(e)&&j.match(f)&&!j.match(e)?(i.attr("class","fa fa-arrow-circle-left"),h.attr("href",j)):h.attr("href","/")}function h(){var c=a(".post-box");c.each(function(){var c=a(this);c.on("click",function(a){var c=a.target.nodeName;if("SECTION"===c||"H1"===c||"UL"===c){var d=this.getElementsByTagName("a")[0],e=d.getAttribute("href");b.location.assign(e)}})})}function i(){q.on("scroll",function(){a(this).scrollTop()>0?r.css({"box-shadow":"0 1px 3px #000",transition:"box-shadow .4s linear"}):r.css({"box-shadow":"none"})})}function j(){var c=r.height(),d=a("#content_border").height(),e=a("#sidebar").height();if(d>e){var f=a("#sidebar"),g=a("#sidebar_sub"),h=c+g.height()+24-q.height(),i=c+d+24-q.height();f.css("height",d+"px"),q.on("scroll",function(){b.matchMedia("(min-width: 1024px)").matches&&(h<a(this).scrollTop()&&a(this).scrollTop()<i?g.css({position:"fixed",bottom:"24px"}):q.scrollTop()>=i?g.css({position:"absolute",bottom:"0"}):g.css("position","static"))})}}function k(){var b=a("#agenda"),c=a("#footer__bar__agenda-link");b[0]&&(c.addClass("footer__style--show"),c.removeClass("footer__style--hidden"))}function l(){var b=a("#content"),c=a("#content_border").width(),d=a("#entry"),e=a("#sidebar"),f=0;c>1020&&(f=(c-1020)/2,b.css("width",c+"px")),e.css("padding-right",f+"px"),d.css("margin-left",f+"px")}function m(){var c=a("#sidebar"),d=c.height(),e=a("#sidebar_sub"),f=e.height(),g=a("#content_border").height();g>d&&(b.matchMedia("(max-width: 1024px)").matches?(c.css("height",f+"px"),e.css("position","static")):c.css("height",g+"px"))}function n(){b.clearTimeout(p),p=b.setTimeout(function(){l(),m()},200)}function o(){q.on("resize",function(){n()})}var p=null,q=a(b),r=a("#header_bar");a("#sidebar").height();return{init:function(){k(),e(),f(),g(),h(),i(),j(),m(),l(),o()}}}(jQuery,window,document);window.onload=maechabinUi.init,function(a,b,c,d){"use strict";a.fn.pageswitch=function(c){var d={url:"default",event:"click",target:"body",properties:{opacity:0},options:{duration:750,easing:"linear",queue:!0}},c=a.extend({},d,c);return this.each(function(){if("default"===c.url)var d=a(this).attr("href");else var d=c.url;a(this).bind(c.event,function(){return c.options.complete=function(){b.location.assign(d)},a(c.target).animate(c.properties,c.options),!1})})}}(jQuery,window,document),$(document).ready(function(){$(function(){$("#content").fadeIn(400),$("#content_border").css("height","auto")}),$(".nav-previous a").pageswitch({target:"#content",properties:{marginRight:-$("body").width()},options:{duration:400}}),$(".nav-next a").pageswitch({target:"#content",properties:{marginLeft:-$("body").width()},options:{duration:400}}),$("#article a:not([target = '_blank','.internal-link']), header a:not([target = '_blank']), #sidebar_sub a:not([target = '_blank']), #footer_sub a:not([target = '_blank'])").pageswitch({target:"#content",options:{duration:300}})});